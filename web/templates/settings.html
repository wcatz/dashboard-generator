{{define "content"}}
<h1 class="text-xl font-bold mb-1">settings</h1>
<p class="text-sm text-base-content/50 mb-6">generator configuration and environment</p>

<div class="card bg-base-100 border border-base-content/10 mb-4">
  <div class="card-body p-5">
    <h3 class="card-title text-sm">generator settings</h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-2">
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">schema version</span>
        <code class="text-sm">{{.SchemaVersion}}</code>
        <span class="text-[0.6rem] text-base-content/30">Grafana dashboard schema version</span>
      </div>
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">output directory</span>
        <code class="text-sm">{{if .OutputDir}}{{.OutputDir}}{{else}}.{{end}}</code>
        <span class="text-[0.6rem] text-base-content/30">where generated JSON files are written</span>
      </div>
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">refresh interval</span>
        <code class="text-sm">{{if .Refresh}}{{.Refresh}}{{else}}not set{{end}}</code>
        <span class="text-[0.6rem] text-base-content/30">auto-refresh interval for dashboards</span>
      </div>
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">time range</span>
        <code class="text-sm">{{if .TimeFrom}}{{.TimeFrom}} to {{.TimeTo}}{{else}}default{{end}}</code>
        <span class="text-[0.6rem] text-base-content/30">default time range for dashboards</span>
      </div>
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">editable</span>
        <code class="text-sm">{{if .Editable}}yes{{else}}no{{end}}</code>
        <span class="text-[0.6rem] text-base-content/30">whether dashboards can be edited in Grafana UI</span>
      </div>
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">graph tooltip</span>
        <code class="text-sm">{{.GraphTooltip}}</code>
        <span class="text-[0.6rem] text-base-content/30">0=default, 1=shared crosshair, 2=shared tooltip</span>
      </div>
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">live now</span>
        <code class="text-sm">{{if .LiveNow}}yes{{else}}no{{end}}</code>
        <span class="text-[0.6rem] text-base-content/30">continuously re-draw when viewing live data</span>
      </div>
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">timezone</span>
        <code class="text-sm">{{if .Timezone}}{{.Timezone}}{{else}}browser{{end}}</code>
        <span class="text-[0.6rem] text-base-content/30">dashboard timezone setting</span>
      </div>
    </div>
  </div>
</div>

<div class="card bg-base-100 border border-base-content/10 mb-4">
  <div class="card-body p-5">
    <h3 class="card-title text-sm">environment</h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2">
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">config path</span>
        <code class="text-sm">{{.ConfigPath}}</code>
      </div>
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">grafana URL</span>
        {{if .GrafanaURL}}
        <code class="text-sm">{{.GrafanaURL}}</code>
        <span class="flex items-center gap-1 text-xs text-success"><span class="w-2 h-2 rounded-full bg-success inline-block"></span> configured</span>
        {{else}}
        <span class="opacity-40 text-sm">not configured</span>
        <span class="text-[0.6rem] text-base-content/30">set via --grafana-url flag or GRAFANA_URL env var</span>
        {{end}}
      </div>
    </div>
  </div>
</div>

<div class="card bg-base-100 border border-base-content/10">
  <div class="card-body p-5">
    <h3 class="card-title text-sm">discovery</h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-2">
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">enabled</span>
        <code class="text-sm">{{if .DiscoveryEnabled}}yes{{else}}no{{end}}</code>
      </div>
      {{if .DiscoverySources}}
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">sources</span>
        <div class="flex flex-wrap gap-2">
          {{range .DiscoverySources}}<span class="badge badge-sm badge-info">{{.}}</span>{{end}}
        </div>
      </div>
      {{end}}
      {{if .IncludePatterns}}
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">include patterns</span>
        <div>{{range .IncludePatterns}}<code class="text-xs mr-1">{{.}}</code>{{end}}</div>
      </div>
      {{end}}
      {{if .ExcludePatterns}}
      <div class="flex flex-col gap-1">
        <span class="text-xs font-semibold text-base-content/50">exclude patterns</span>
        <div>{{range .ExcludePatterns}}<code class="text-xs mr-1">{{.}}</code>{{end}}</div>
      </div>
      {{end}}
    </div>
  </div>
</div>
{{end}}
